{% extends 'base.html' %}
{% block title %} Blog {% endblock title %}
{% block blogactive %} active {% endblock blogactive %}

{% block js %}
<script>
  let previews = document.getElementByClassName('preview');
  Array.from(previews).ForEach((element) => {
    element.innerHTML = element.innerText;
  })
</script>
{% endblock js %}

{% block body %}


<section class="jumbotron text-center">
  <div class="container">
    <h1>iThACK</h1>
    <p class="lead text-muted">Learn Ethical Hacking And Cracking Improve Your Skills. Whether Your Not Techy But It's
      About Your Privacy And Safty. Get Videos And References To Learn More And More.</p><br>
    <h5 class=" text-muted"> If You Are Ready Then Let's Go...</h5>

    <p>
      <a href="http://127.0.0.1:8000/blog/imp" class="btn btn-info my-2">Latest Blog</a>
      <a href="http://127.0.0.1:8000/blog/first-post" class="btn btn-dark my-2">Popular Blog</a>
    </p>
  </div>
</section>


<div class="container my-3">
  <div class="row mb-2">
    {% for post in allPosts %}

    {% if post.sno|divisibleby:3 %}
    <div class="row mb-2">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row my-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <span class="text-muted"><strong class="d-inline-block mb-2 text-success">By
              {{post.author}}</strong>&nbsp;&nbsp;&nbsp;&nbsp;{{post.timestamp}}</span>
          <h3 class="mb-0">{{post.title}}</h3>
          <div class="mb-1 text-muted">{{post.datetime}}</div>
          <p class="card-text mb-auto text-muted">{{post.content|safe|truncatechars:500}}</p>
          <div class="my-2">
            <a href="/blog/{{post.slug}}" class="stretched-link text-success">Continue reading</a>
          </div>
        </div>
        <div class="col-auto d-none d-lg-block">
          <img src="/static/img/take.jpg" width="450" height="310" <rect width="100%" height="100%"></rect>
        </div>

      </div>

      {% else %}

      <div class="col-md-6">
        <div
          class="row no-gutters border rounded overflow-hidden flex-md-row my-4 shadow-sm h-md-250 position-relative">

          <div class="col-auto d-none d-lg-block">
            <img src="/static/img/take.jpg" width="840" height="300">
            <title>Placeholder</title>
            <rect width="100%" height="100%"></rect>
          </div>

          <div class="col p-4 d-flex flex-column position-static">

            <span class="text-muted"><strong class="d-inline-block mb-2 text-success">By
                {{post.author}}</strong>&nbsp;&nbsp;&nbsp;&nbsp;{{post.timestamp}}</span>
            <h3 class="mb-0">{{post.title|truncatechars:47}}</h3>
            <div class="mb-1 text-muted">{{post.datetime}}</div>
            <p class="card-text mb-auto text-muted">
            <div class="preview text-muted">{{post.content|safe|truncatechars:250}}</div>
            </p>
            <div class="my-2">
              <a href="/blog/{{post.slug}}" class="stretched-link text-success">Continue reading</a>
            </div>
          </div>

        </div>
      </div>

      {% endif %}

      {% endfor %}
    </div>


  </div>


  {% endblock body %}